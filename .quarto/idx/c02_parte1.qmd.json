{"title":"Conceptos Básicos de R - Parte 2","markdown":{"headingText":"Conceptos Básicos de R - Parte 2","containsRefs":false,"markdown":"\n## Lectura / escritura de datos (.csv, .xlsx, .RData, .rds)\n\n<p style=\"text-align: justify;\">\n\nEn la pestaña en Entorno **(Environment)** de **RStudio** podemos importar conjuntos de datos o datasets con el asistente de importación. No es recomendable cuando debemos importar varios archivos o si se van a leer archivos grandes. Para lo cual es más eficiente usar código.\n\n</p>\n\n<p align=\"center\">\n\n<img src=\"https://bookdown.org/chescosalgado/intro_r/img/manual_import.png\n\" width=\"600\"/>\n\n</p>\n\n### CSV\n\nSi conocemos la estructura de nuestros datos (por ejemplo, la primera fila es el título de las columnas o es un archivo separado por comas), Se pueden utilizar las funciones **`read.csv` (librería base) o `read_csv` (librería readr, de tidyverse)**:\n\n```{r}\n# datos será un 'data frame'\ndata01 <- read.csv(file = 'data/file.csv')\nhead(data01)\n# datos será un 'tibble'\ndata01 <- readr::read_csv(file = 'data/file.csv')\ndata01\n```\n\nEn otros casos, cuando `\";\"` es utilizado como el separador de campo y `\",\"` para el punto decimal, se utiliza una variante de estas funciones.\n\n```{r}\n# datos será un 'data frame'\ndata02 <- read.csv(file = 'data/file.csv', sep = ',', header = T)\n```\n\nLa escritura de datos se realiza de la siguiente manera:\n\n```{r}\nreadr::write_csv(x = data02, file = \"data/csv_data.csv\")\n```\n\n### EXCEL\n\nEs posible leer datos en la forma `.xls` o `.xlsx`. Existen distintos paquetes que nos permiten hacerlo:\n\n-   El paquete **readxl** contiene la función `read_excel`.\n-   El paquete **xlsx** y la función `read.xlsx`\n\n```{r}\n# datos será un 'data frame'\ndata03 <- readxl::read_xls(path = \"data/file.xls\", sheet = 1)\ndata03 <- xlsx::read.xlsx(file = \"data/file.xls\", 1)\n```\n\nLa escritura de datos se realiza de la siguiente manera:\n\n```{r}\nxlsx::write.xlsx(\n  data03, \"data/xlsx_data.xlsx\", sheetName = \"Sheet1\", \n  col.names = TRUE, row.names = TRUE, append = FALSE\n)\n```\n\n### RDS\n\nR proporciona dos formatos de archivo propios para almacenar datos, **.RDS** y **.RData** . Los archivos **RDS** pueden almacenar **un solo objeto R** y los archivos **RData** pueden almacenar **varios objetos R**.\n\nPuede abrir un archivo RDS con `readRDS`:\n\n```{r}\ndata04 <- readRDS(\"data/file.RDS\")\n```\n\nLa escritura de datos se realiza de la siguiente manera:\n\n```{r}\nsaveRDS(data04, file = \"data/rds_data.RDS\")\n```\n\n### RDATA\n\nLa escritura de estos datos se realiza de la siguiente manera:\n\n```{r}\na <- 1\nb <- 2\nc <- 3\nsave(a, b, c, file = \"data/stuff.RData\")\n```\n\nPuede abrir un archivo RData con `load`:\n\n```{r}\nload(\"data/stuff.RData\")\n```\n\n## Control de Flujo Condicionales\n\n## Control de Flujo de Iteradores\n\n## Funciones\n\n## Paquetes y librerías\n\nLos paquetes de R amplían la funcionalidad de R al proporcionar funciones, datos y documentación adicionales.Están escritos por una comunidad mundial de usuarios de R y pueden ser instalados desde la interfaz gráfica de RStudio\n\nSolo tienes que instalar el paquete una vez, si desea actualizar un paquete previamente instalado a una versión más nueva, puede ir a la ventana de Ficheros en Packages \\> Update y seleccionar los paquetes que desea actualizar.\n\n<p style=\"text-align: justify;\">\n\nNo podrá utilizar las funciones, los objetos y los archivos de ayuda de un paquete hasta que lo cargue con **`library()`**. Una vez que haya instalado un paquete, puede cargarlo con la función **`library()`**:\n\n</p>\n\n```{r include=FALSE}\npacman::p_unload(\n  pacman::p_loaded(),\n  character.only = TRUE\n)\n```\n\n### Diferencias entre paquetes y librerías\n\nEn el caso de la función `library()`, en muchas ocasiones existe la confusión entre un paquete y una librería, y podemos encontrarnos con gente llamando \"librerías\" a los paquetes.\n\nUna cosa es la función `library()` usada para cargar un paquete, y que se refiere al lugar en dónde el paquete es localizado, habitualmente una carpeta en nuestro ordenador, y otra un paquete que es una colección de funciones y datos empaquetados de forma conveniente.\n\nDicho de otra manera, y en palabras de Hadley Wickham, científico de datos en RStudio, y creador de la gran mayoría de paquetes del ecosistema tidyverse:\n\n<p align=\"center\">\n\n<img src=\"fig/s01_difference_library.png\" width=\"400\"/>\n\n</p>\n\nDe igual manera, para recordar la diferencia es ejecutar la función library() sin argumentos. Esto nos proporcionará una lista de paquetes instalados en diferentes librerías en nuestro ordenador.\n\n```{r eval=FALSE}\n# Install packages\ninstall.packages(\"tidyverse\")\n# Load packages\nlibrary(tidyverse)\n# You can also use \"pacman\" package to install\n#  an loading other packages\nif (!require(\"pacman\")) {\n  install.packages(\"pacman\")\n}\npacman::p_load(\n  tidyverse, formatR, knitr, rmdformats, pander, labelled, readxl, magrittr, kableExtra,\n  Lahman, datos\n)\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"c02_parte1.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.269","editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}}}